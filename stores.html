<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Stores - HarmonyGear 24</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">
</head>
<body>
    <!-- Top Links Bar -->
    <div class="top-links-bar">
        <div class="container">
            <div class="top-links">
                <a href="#">HarmonyGear 24 Card</a>
                <a href="#">HarmonyGear 24 Dining</a>
                <a href="#">How We Make Money</a>
            </div>
        </div>
    </div>

    <!-- Main Navigation Bar -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html">
                        <h1>HarmonyGear 24</h1>
                    </a>
                </div>
                
                <!-- Categories Dropdown -->
                <div class="categories-dropdown">
                    <button class="categories-btn">
                        <span>Categories</span>
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <div class="categories-dropdown-menu">
                        <div class="categories-intro-links">
                            <a href="stores.html" class="intro-link">
                                <span>See All Stores</span>
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </a>
                        </div>
                        <div class="categories-list">
                            <a href="category.html?cat=travel">Travel & Vacations</a>
                            <a href="category.html?cat=clothing">Clothing</a>
                            <a href="category.html?cat=beauty">Beauty & Wellness</a>
                            <a href="category.html?cat=accessories">Accessories</a>
                            <a href="category.html?cat=auto">Auto & Tires</a>
                            <a href="category.html?cat=baby">Baby & Toddler</a>
                            <a href="category.html?cat=banking">Banking & Finance Tools</a>
                            <a href="category.html?cat=business">Business Supplies & Services</a>
                            <a href="category.html?cat=digital">Digital Services & Streaming</a>
                            <a href="category.html?cat=electronics">Electronics</a>
                            <a href="category.html?cat=events">Events & Entertainment</a>
                            <a href="category.html?cat=food">Food, Drinks & Restaurants</a>
                            <a href="category.html?cat=gifts">Gifts, Flowers & Parties</a>
                            <a href="category.html?cat=home">Home & Garden</a>
                            <a href="category.html?cat=pets">Pets</a>
                            <a href="category.html?cat=shoes">Shoes</a>
                            <a href="category.html?cat=sports">Sports, Outdoors & Fitness</a>
                            <a href="category.html?cat=subscription">Subscription Boxes & Services</a>
                            <a href="category.html?cat=toys">Toys & Games</a>
                        </div>
                    </div>
                </div>

                <!-- Search Bar -->
                <div class="header-search">
                    <form class="search-form" onsubmit="event.preventDefault(); performSearch();">
                        <input type="text" placeholder="Search stores, products, and coupons" id="headerSearch">
                        <button type="submit" class="search-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                                <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </button>
                    </form>
                </div>

                <!-- Rewards Link (only visible when logged in) -->
                <a href="#" class="rewards-link" id="rewardsLink" style="display: none;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="3" y="8" width="18" height="13" rx="1" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 8V21" stroke="currentColor" stroke-width="2"/>
                        <path d="M3 12H21" stroke="currentColor" stroke-width="2"/>
                        <path d="M8 8C8 5.79086 9.79086 4 12 4C14.2091 4 16 5.79086 16 8" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    <span>Rewards</span>
                </a>

                <!-- Sign In / Join Now Buttons (hidden when logged in) -->
                <div class="auth-buttons" id="authButtons">
                    <button class="btn-signin" onclick="openAuthModal('login')">Sign In</button>
                    <button class="btn-join" onclick="openAuthModal('register')">Join Now</button>
                </div>
                
                <!-- User Account (visible when logged in) -->
                <div class="user-account" id="userAccount" style="display: none;">
                    <button class="user-account-btn" id="userAccountBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
                            <path d="M6 21C6 17 9 14 12 14C15 14 18 17 18 21" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <span id="userEmail">User</span>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="#" onclick="logout(); return false;">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- All Stores Page Header -->
    <section class="all-stores-header-section">
        <div class="container">
            <div class="all-stores-header">
                <h1 class="all-stores-title">All stores</h1>
                <div class="all-stores-actions">
                    <button class="action-btn search-action">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                            <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span>Search</span>
                    </button>
                    <button class="action-btn sort-action">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Sort</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Category Filters -->
    <section class="category-filters-section">
        <div class="container">
            <div class="category-filters-wrapper">
                <div class="category-filters">
                    <button class="category-filter-btn active" data-category="all">All</button>
                    <button class="category-filter-btn" data-category="clothing">Clothing</button>
                    <button class="category-filter-btn" data-category="electronics">Electronics</button>
                    <button class="category-filter-btn" data-category="beauty">Beauty & Wellness</button>
                    <button class="category-filter-btn" data-category="toys">Toys & Games</button>
                    <button class="category-filter-btn" data-category="shoes">Shoes</button>
                    <button class="category-filter-btn" data-category="accessories">Accessories</button>
                    <button class="category-filter-btn" data-category="travel">Travel & Vacations</button>
                    <button class="category-filter-btn" data-category="food">Food, Drinks & Restaurants</button>
                    <button class="category-filter-btn" data-category="home">Home & Garden</button>
                    <button class="category-filter-btn" data-category="pets">Pets</button>
                    <button class="category-filter-btn" data-category="sports">Sports, Outdoors & Fitness</button>
                    <button class="category-filter-btn" data-category="auto">Auto & Tires</button>
                    <button class="category-filter-btn" data-category="baby">Baby & Toddler</button>
                    <button class="category-filter-btn" data-category="banking">Banking & Finance Tools</button>
                </div>
                <button class="category-scroll-arrow category-scroll-right" aria-label="Scroll right">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 18L15 12L9 6" stroke="#6B46C1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
        </div>
    </section>

    <!-- Stores Grid -->
    <section class="all-stores-grid-section">
        <div class="container">
            <div class="all-stores-grid" id="storesGrid">
                <!-- Electronics -->
                <a href="coupons.html?store=temu" class="all-store-card" data-category="electronics" onclick="event.preventDefault(); redirectToStore('https://temu.com/?ref=harmonygear24', 'TEMU');">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #FF6B35;">TEMU</div>
                    </div>
                    <div class="all-store-name">TEMU</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">6% Cash Back</span>
                        <span class="all-cashback-was">was 3%</span>
                    </div>
                </a>
                <a href="coupons.html?store=bestbuy" class="all-store-card" data-category="electronics">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #FFD700;">Best Buy</div>
                    </div>
                    <div class="all-store-name">Best Buy</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">Up to 10% Cash Back</span>
                    </div>
                </a>
                <a href="coupons.html?store=ebay" class="all-store-card" data-category="electronics">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background: linear-gradient(135deg, #E53238, #0064D2, #F5AF02, #86B817);">ebay</div>
                    </div>
                    <div class="all-store-name">eBay</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">Up to 1% Cash Back</span>
                    </div>
                </a>
                
                <!-- Travel -->
                <a href="coupons.html?store=expedia" class="all-store-card" data-category="travel">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #FFD700;">Expedia</div>
                    </div>
                    <div class="all-store-name">Expedia</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">Up to 3% Cash Back</span>
                    </div>
                </a>
                <a href="coupons.html?store=hotels" class="all-store-card" data-category="travel">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #E31E24;">Hotels.com</div>
                    </div>
                    <div class="all-store-name">Hotels.com</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">Up to 3% Cash Back</span>
                        <span class="all-cashback-was">was 1%</span>
                    </div>
                </a>
                
                <!-- Home & Garden -->
                <a href="coupons.html?store=lowes" class="all-store-card" data-category="home">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #0066CC;">LOWE'S</div>
                    </div>
                    <div class="all-store-name">Lowe's</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">Up to 2% Cash Back</span>
                    </div>
                </a>
                <a href="coupons.html?store=target" class="all-store-card" data-category="home">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #E31E24;">Target</div>
                    </div>
                    <div class="all-store-name">Target</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">1% Cash Back</span>
                    </div>
                </a>
                
                <!-- Clothing -->
                <a href="coupons.html?store=nike" class="all-store-card" data-category="clothing">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #2C2C2C;">NIKE</div>
                    </div>
                    <div class="all-store-name">Nike</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">8% Cash Back</span>
                        <span class="all-cashback-was">was 2%</span>
                    </div>
                </a>
                <a href="coupons.html?store=lululemon" class="all-store-card" data-category="clothing">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #2C2C2C;">Ω</div>
                    </div>
                    <div class="all-store-name">lululemon</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">2% Cash Back</span>
                    </div>
                </a>
                <a href="coupons.html?store=nordstrom" class="all-store-card" data-category="clothing">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #2C2C2C;">N</div>
                    </div>
                    <div class="all-store-name">Nordstrom</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">2% Cash Back</span>
                    </div>
                </a>
                <a href="coupons.html?store=macys" class="all-store-card" data-category="clothing">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #E31E24;">Macy's</div>
                    </div>
                    <div class="all-store-name">Macy's</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">4% Cash Back</span>
                        <span class="all-cashback-was">was 2%</span>
                    </div>
                </a>
                
                <!-- Beauty & Wellness -->
                <a href="coupons.html?store=sephora" class="all-store-card" data-category="beauty">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #2C2C2C;">Sephora</div>
                    </div>
                    <div class="all-store-name">Sephora</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">4% Cash Back</span>
                        <span class="all-cashback-was">was 2%</span>
                    </div>
                </a>
                <a href="coupons.html?store=cvs" class="all-store-card" data-category="beauty">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #E31E24;">♥CVS</div>
                    </div>
                    <div class="all-store-name">CVS</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">5% Cash Back</span>
                    </div>
                </a>
                
                <!-- Food, Drinks & Restaurants -->
                <a href="coupons.html?store=samsclub" class="all-store-card" data-category="food">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #0066CC;">Sam's Club</div>
                    </div>
                    <div class="all-store-name">Sam's Club</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">Up to 4% Cash Back</span>
                    </div>
                </a>
                
                <!-- Banking & Finance -->
                <a href="coupons.html?store=sofi" class="all-store-card" data-category="banking">
                    <div class="all-store-logo">
                        <div class="store-logo-placeholder" style="background-color: #87CEEB;">SoFi</div>
                    </div>
                    <div class="all-store-name">SoFi Banking</div>
                    <div class="all-store-cashback">
                        <span class="all-cashback-current">$250 Cash Back</span>
                        <span class="all-cashback-was">was $125</span>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>About</h4>
                    <ul>
                        <li><a href="#">About HarmonyGear 24</a></li>
                        <li><a href="#">Getting Started</a></li>
                        <li><a href="#">Advertising & Partnerships</a></li>
                        <li><a href="#">Press Room</a></li>
                        <li><a href="#">Careers</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Stores & Brands</h4>
                    <ul>
                        <li><a href="stores.html">All Stores</a></li>
                        <li><a href="category.html">Shop by Category</a></li>
                        <li><a href="coupons.html">All Coupons</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Tools & Services</h4>
                    <ul>
                        <li><a href="#">Browser Extension</a></li>
                        <li><a href="#">Mobile App</a></li>
                        <li><a href="#">In-Store Cash Back</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Help</h4>
                    <ul>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Terms & Conditions</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 HarmonyGear 24. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        // Category filter functionality
        document.querySelectorAll('.category-filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.category-filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const selectedCategory = this.getAttribute('data-category');
                filterStores(selectedCategory);
            });
        });

        // Filter stores by category
        function filterStores(category) {
            const storeCards = document.querySelectorAll('.all-store-card');
            
            storeCards.forEach(card => {
                if (category === 'all') {
                    card.style.display = 'flex';
                } else {
                    const cardCategory = card.getAttribute('data-category');
                    if (cardCategory === category) {
                        card.style.display = 'flex';
                    } else {
                        card.style.display = 'none';
                    }
                }
            });
        }

        // Category scroll functionality
        const categoryFilters = document.querySelector('.category-filters');
        const scrollRight = document.querySelector('.category-scroll-right');
        
        if (scrollRight) {
            scrollRight.addEventListener('click', () => {
                categoryFilters.scrollBy({ left: 200, behavior: 'smooth' });
            });
        }
    </script>

    <!-- Auth Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-modal-overlay" onclick="closeAuthModal()"></div>
        <div class="auth-modal-content">
            <button class="auth-modal-close" onclick="closeAuthModal()" aria-label="Close">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>

            <!-- Login Form -->
            <div class="auth-form-container" id="loginFormContainer">
                <h2 class="auth-modal-title">Sign In</h2>
                <p class="auth-modal-subtitle">Don't have an account? <a href="#" onclick="switchAuthForm('register'); return false;">Join free</a></p>
                
                <form id="loginForm" class="auth-form-modern" onsubmit="handleLogin(event)">
                    <div class="form-group-modern">
                        <label for="loginEmail">Email Address</label>
                        <input type="email" id="loginEmail" name="email" placeholder="your@email.com" required>
                    </div>
                    
                    <div class="form-group-modern">
                        <label for="loginPassword">Password</label>
                        <div class="password-input-wrapper">
                            <input type="password" id="loginPassword" name="password" placeholder="Enter your password" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('loginPassword')">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="eye-icon">
                                    <path d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="eye-off-icon" style="display: none;">
                                    <path d="M17.94 17.94C16.2306 19.243 14.1491 20.4641 12 20.4641C5 20.4641 1 12.4641 1 12.4641C2.24389 10.2411 3.96914 8.40711 5.94 7.06M9.9 4.24C10.5883 4.07888 11.2931 3.99833 12 3.99999C19 3.99999 23 12 23 12C22.393 13.1356 21.6691 14.2047 20.84 15.19M14.12 14.12C13.8454 14.4147 13.5141 14.6511 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1751 15.0073 10.8016 14.8565C10.4281 14.7056 10.0887 14.481 9.80385 14.1961C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4858 9.58525 10.1546 9.88 9.88M1 1L23 23" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-options-modern">
                        <label class="checkbox-modern">
                            <input type="checkbox" name="remember">
                            <span>Remember me</span>
                        </label>
                        <a href="#" class="forgot-password-link" onclick="event.preventDefault(); alert('Password reset feature coming soon');">Forgot password?</a>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-large btn-block-modern">Sign In</button>
                </form>
                
                <div class="auth-divider-modern">
                    <span>or</span>
                </div>
                
                <div class="social-login-modern">
                    <button type="button" class="btn-social btn-google" onclick="handleSocialLogin('google')">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                            <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                            <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
                            <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                        </svg>
                        <span>Continue with Google</span>
                    </button>
                </div>
            </div>

            <!-- Register Form -->
            <div class="auth-form-container" id="registerFormContainer" style="display: none;">
                <h2 class="auth-modal-title">Join HarmonyGear 24 Today and Get a $10 Cash Bonus*</h2>
                <p class="auth-modal-subtitle">Already have an account? <a href="#" onclick="switchAuthForm('login'); return false;">Sign In</a></p>
                
                <form id="registerForm" class="auth-form-modern" onsubmit="handleRegister(event)">
                    <div class="form-group-modern">
                        <label for="registerEmail">Email Address</label>
                        <input type="email" id="registerEmail" name="email" placeholder="your@email.com" required>
                        <span class="form-error" id="registerEmailError" style="display: none;">Enter a valid email.</span>
                    </div>
                    
                    <div class="form-group-modern">
                        <label for="registerPassword">Password (8+ characters)</label>
                        <div class="password-input-wrapper">
                            <input type="password" id="registerPassword" name="password" placeholder="At least 8 characters" required minlength="8">
                            <button type="button" class="password-toggle" onclick="togglePassword('registerPassword')">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="eye-icon">
                                    <path d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="eye-off-icon" style="display: none;">
                                    <path d="M17.94 17.94C16.2306 19.243 14.1491 20.4641 12 20.4641C5 20.4641 1 12.4641 1 12.4641C2.24389 10.2411 3.96914 8.40711 5.94 7.06M9.9 4.24C10.5883 4.07888 11.2931 3.99833 12 3.99999C19 3.99999 23 12 23 12C22.393 13.1356 21.6691 14.2047 20.84 15.19M14.12 14.12C13.8454 14.4147 13.5141 14.6511 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1751 15.0073 10.8016 14.8565C10.4281 14.7056 10.0887 14.481 9.80385 14.1961C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4858 9.58525 10.1546 9.88 9.88M1 1L23 23" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group-modern">
                        <label for="confirmPassword">Confirm Password</label>
                        <div class="password-input-wrapper">
                            <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Re-enter password" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="eye-icon">
                                    <path d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="eye-off-icon" style="display: none;">
                                    <path d="M17.94 17.94C16.2306 19.243 14.1491 20.4641 12 20.4641C5 20.4641 1 12.4641 1 12.4641C2.24389 10.2411 3.96914 8.40711 5.94 7.06M9.9 4.24C10.5883 4.07888 11.2931 3.99833 12 3.99999C19 3.99999 23 12 23 12C22.393 13.1356 21.6691 14.2047 20.84 15.19M14.12 14.12C13.8454 14.4147 13.5141 14.6511 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1751 15.0073 10.8016 14.8565C10.4281 14.7056 10.0887 14.481 9.80385 14.1961C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4858 9.58525 10.1546 9.88 9.88M1 1L23 23" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-options-modern">
                        <label class="checkbox-modern">
                            <input type="checkbox" name="terms" required>
                            <span>By joining, you agree to the <a href="#">Terms & Conditions</a> and <a href="#">Privacy Policy</a>.</span>
                        </label>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-large btn-block-modern">Join Now</button>
                </form>
                
                <div class="auth-divider-modern">
                    <span>or</span>
                </div>
                
                <div class="social-login-modern">
                    <button type="button" class="btn-social btn-google" onclick="handleSocialLogin('google')">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                            <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                            <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
                            <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                        </svg>
                        <span>Continue with Google</span>
                    </button>
                </div>
                
                <p class="auth-modal-footer">
                    <a href="#" onclick="event.preventDefault(); alert('Referral feature coming soon');">Did someone refer you?</a>
                </p>
                
                <p class="auth-modal-disclaimer">*Bonus terms apply</p>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/auth-modal.js"></script>
    <script src="js/redirect.js"></script>
    <script type="module">
        import { StoreAPI } from './js/api.js';
        
        // Load stores from API
        async function loadStores() {
            try {
                const result = await StoreAPI.getAll();
                if (result.success && result.data && result.data.length > 0) {
                    renderStores(result.data);
                } else {
                    console.log('No stores found or API error:', result.error);
                    // Keep static stores as fallback
                }
            } catch (error) {
                console.error('Error loading stores:', error);
                // Keep static stores as fallback
            }
        }
        
        function renderStores(stores) {
            const grid = document.getElementById('storesGrid');
            if (!grid) return;
            
            // Filter active stores only
            const activeStores = stores.filter(store => store.status === 'active');
            
            if (activeStores.length === 0) {
                return; // Keep static content if no stores
            }
            
            grid.innerHTML = activeStores.map(store => {
                const cashback = store.cashback ? `${store.cashback}% Cash Back` : 'Cash Back Available';
                const logoUrl = store.logo_url || '';
                const logoStyle = logoUrl ? `background-image: url('${logoUrl}'); background-size: contain; background-repeat: no-repeat; background-position: center;` : '';
                const logoBg = store.logo_url ? '' : `background-color: ${getRandomColor()};`;
                
                return `
                    <a href="coupons.html?store=${store.id}" class="all-store-card" data-category="${store.category || ''}" 
                       ${store.redirect_url ? `onclick="event.preventDefault(); redirectToStore('${store.redirect_url}', '${store.name}');"` : ''}>
                        <div class="all-store-logo">
                            ${logoUrl ? 
                                `<img src="${logoUrl}" alt="${store.name}" style="width: 100%; height: 100%; object-fit: contain; padding: 10px;">` :
                                `<div class="store-logo-placeholder" style="${logoBg}">${store.name.substring(0, 10)}</div>`
                            }
                        </div>
                        <div class="all-store-name">${store.name}</div>
                        <div class="all-store-cashback">
                            <span class="all-cashback-current">${cashback}</span>
                        </div>
                    </a>
                `;
            }).join('');
        }
        
        function getRandomColor() {
            const colors = ['#E31E24', '#2C2C2C', '#FF6B35', '#0066CC', '#4CAF50', '#FFD700', '#0D9488', '#003580'];
            return colors[Math.floor(Math.random() * colors.length)];
        }
        
        // Load stores when page loads
        document.addEventListener('DOMContentLoaded', loadStores);
    </script>
    <script>
        // Fallback for non-module browsers
        if (typeof window.StoreAPI === 'undefined') {
            console.log('Using static stores as fallback');
        }
        //         redirectToStore(redirectUrl, storeName);
        //     };
        // });
        
        // 当前示例：TEMU商店直接跳转
        document.querySelector('.all-store-card[data-category="electronics"]')?.addEventListener('click', function(e) {
            if (this.href.includes('temu')) {
                e.preventDefault();
                redirectToStore('https://temu.com/?ref=harmonygear24', 'TEMU');
            }
        });
    </script>
</body>
</html>
