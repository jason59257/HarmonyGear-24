# Cloudflare Worker configuration file
# This file configures the Worker for handling image uploads and API

name = "coupon-api"
main = "workers/api.js"
compatibility_date = "2024-01-01"

# D1 database binding
# Replace 'database_id' with your actual D1 database ID from: wrangler d1 list
[[d1_databases]]
binding = "DB"
database_name = "harmonygear24"
database_id = "9fd2988d-5c5e-4ec1-97b4-d0f5f5eb1a3e"

# R2 bucket binding
# Replace 'coupon-images' with your actual R2 bucket name
[[r2_buckets]]
binding = "COUPON_IMAGES"
bucket_name = "coupon-images"

# Environment variables
# Replace with your actual R2 public domain
# You can find this in R2 bucket settings -> Public Access
# Or use your custom domain: https://images.yourdomain.com
[vars]
R2_PUBLIC_URL = "https://pub-xxxxx.r2.dev"  # Replace with your R2 public domain
JWT_SECRET = "be51986f1736f29c2fd811fe1b9087e824cb41ea3003da068bba8a0606e82599"
